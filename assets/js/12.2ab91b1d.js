(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{289:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"函数执行环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数执行环境","aria-hidden":"true"}},[s._v("#")]),s._v(" 函数执行环境")]),s._v(" "),n("p",[s._v("Javascript分为全局执行环境和局部执行环境，实际上，当进入函数时，相当于进入了一个新的执行环境，而每次进入新的执行环境，都会形成一条作用域链。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("var a=1;\nfunction output(){\n    console.log(a);\n}\noutput();\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("此段代码的执行结果为1。那为什么在函数内部依旧没有定义却可以访问的到a呢？实际上，其运行过程是这样的：在函数output内部寻找a的定义(局部执行环境)→全局执行环境→找到a，输出。\n作为类比，再来看下一段代码：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("var a=1;\nfunction output(){\n    var a=2;\n    console.log(a);\n}\noutput();\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("毫无疑问，这次输出的是2。因为在局部执行环境里，就找到了a的定义，所以函数执行结束。\n此外，还有一种情况：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function output(){\n    var a=1;\n}\noutput();\nconsole.log(a);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("在这段代码中，输出的结果将会是一段错误：a is undefined,因为打印的函数的作用域链上目前只有一段，即它自己本身，当它无法在自身的执行环境中找到变量a的定义，也没有下一段作用域，则会直接报错。")]),s._v(" "),n("hr"),s._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",[n("strong",[s._v("总结：")]),s._v("\n局部环境，即函数内部可以访问到函数本身及外部环境的任何数据，而反过来，外部环境只能访问其自身及其外部环境的数据，而无法直接访问内部环境的数据。")])])])},[],!1,null,null,null);a.default=e.exports}}]);